02/17/25
This worked before today 
/home/devel/pico-ice/PipelineC/vga-pll/ice_makefile_pipelinec
make pipelinec 
echo "#define PLL_CLK_MHZ 25.0\n" > pll_clk_mhz.h
/home/devel/PipelineC/src/pipelinec top.c --top pipelinec_top --out_dir pipelinec_output --comb --no_synth > pipelinec.log
make: *** [Makefile:42: pipelinec] Error 255


It looks like variable pmod_1b_o1 isn't declared? /home/devel/PipelineC/include/vga/vga_wires.c:7:49

git checkout  6161   This confirms that pico-ice is dependent on PipelineC.

commit 61616541dce691c6f6196596bec8cb597a4c7f9f (HEAD)
Merge: 077994c 8fd76fb
Author: develone <develone@sbcglobal.net>
Date:   Sat Jan 11 14:22:33 2025 -0700

    Merge branch 'JulianKemmerer:master' into test-dev

make pipelinec
make gateware.bin 
bin2uf2 -o gateware.uf2 gateware.bin
devel@pi5-80:~/pico-ice/PipelineC/vga-pll/ice_makefile_pipelinec $ cp gateware.uf2 /media/devel/pico-ice/
vga_colorbar works. 
cd ../../vga-pong/examples/pico-ice/ice_makefile_pipelinec

make clean 
make pipelinec
make gateware.bin 
bin2uf2 -o gateware.uf2 gateware.bin
devel@pi5-80:~/pico-ice/PipelineC/vga-pong/examples/pico-ice/ice_makefile_pipelinec $ cp gateware.uf2 /media/devel/pico-ice/
vga_pong works
Welcome to minicom 2.8

OPTIONS: I18n 
Port /dev/ttyACM1, 08:49:55

Press CTRL-A Z for help on special keys
w moves left paddle up
s moves left paddle dn
i moves right paddle up
k moves right paddle dn


commit ff24c29192f5a479eed5e34c54ba3eabc5d1ec67 (HEAD -> test-dev, origin/test-dev)
Merge: cb8e24b 707142c
Author: develone <develone@sbcglobal.net>
Date:   Fri Feb 14 20:25:24 2025 -0700

devel@pi5-80:~/pico-ice/PipelineC/blink-ex/ice_makefile_pipelinec $

    Merge branch 'JulianKemmerer:master' into test-dev

make clean
make pipelinec
make gateware.bin
bin2uf2 -o gateware.uf2 gateware.bin
devel@pi5-80:~/pico-ice/PipelineC/blink-ex/ice_makefile_pipelinec $ cp gateware.uf2 /media/devel/pico-ice/
green led blink
devel@pi5-80:~/pico-ice/PipelineC/blink-ex-uart-echo/ice_makefile_pipelinec $


make clean
make pipelinec
make gateware.bin
bin2uf2 -o gateware.uf2 gateware.bin
devel@pi5-80:~/pico-ice/PipelineC/blink-ex-uart-echo/ice_makefile_pipelinec $ cp gateware.uf2 /media/devel/pico-ice/
red led blink

devel@pi5-80:~ $ minicom ACM1

Welcome to minicom 2.8

OPTIONS: I18n 
Port /dev/ttyACM1, 09:57:18

Press CTRL-A Z for help on special keys

Ã¿_123ABC
To build vga-pll & vga-pong on pi5-70 needed 
git checkout 6161 in PipelineC This confirms that pico-ice is dependent on PipelineC.
commit 61616541dce691c6f6196596bec8cb597a4c7f9f (HEAD)
Merge: 077994c 8fd76fb
Author: develone <develone@sbcglobal.net>
Date:   Sat Jan 11 14:22:33 2025 -0700

    Merge branch 'JulianKemmerer:master' into test-dev


devel@pi5-70:~/pico-ice/PipelineC/vga-pll/ice_makefile_pipelinec $ make clean
rm -f lextab.py
rm -f yacctab.py
rm -f pll_clk_mhz.h
rm -f -r pipelinec_output
rm -f pipelinec.log
rm -f pll.v
rm -f *.json *.asc *.bin *.uf2
rm -f yosys_stderr.log
rm -f dfu_util.log
devel@pi5-70:~/pico-ice/PipelineC/vga-pll/ice_makefile_pipelinec $ make pipelinec 
echo "#define PLL_CLK_MHZ 25.0\n" > pll_clk_mhz.h
/home/devel/PipelineC/src/pipelinec top.c --top pipelinec_top --out_dir pipelinec_output --comb --no_synth > pipelinec.log
make: *** [Makefile:42: pipelinec] Error 255
devel@pi5-70:~/pico-ice/PipelineC/vga-pll/ice_makefile_pipelinec $ make pipelinec 
echo "#define PLL_CLK_MHZ 25.0\n" > pll_clk_mhz.h
/home/devel/PipelineC/src/pipelinec top.c --top pipelinec_top --out_dir pipelinec_output --comb --no_synth > pipelinec.log
devel@pi5-70:~/pico-ice/PipelineC/vga-pll/ice_makefile_pipelinec $ make gateware.bin 
/home/devel/oss-cad-suite//bin/icepll -q -i 12 -o 25.0 -p -m -f pll.v
/home/devel/oss-cad-suite//bin/yosys -q -m ghdl -p "ghdl --std=08 -frelaxed `cat pipelinec_output/vhdl_files.txt` -e pipelinec_top; read_verilog -sv top.sv pll.v; synth_ice40 -top top -json gateware.json" 2> yosys_stderr.log
/home/devel/oss-cad-suite//bin/nextpnr-ice40 -q --randomize-seed --up5k --package sg48 --pcf ice40.pcf --json gateware.json --asc gateware.asc --freq 25.0
/home/devel/oss-cad-suite//bin/icepack gateware.asc gateware.bin
devel@pi5-70:~/pico-ice/PipelineC/vga-pll/ice_makefile_pipelinec $ bin2uf2 -o gateware.uf2 gateware.bin 
devel@pi5-70:~/pico-ice/PipelineC/vga-pll/ice_makefile_pipelinec $ scp gateware.uf2 pi5-80:/media/devel/pico-ice/
gateware.uf2                                  100%  204KB  10.6MB/s   00:00    
devel@pi5-70:~/pico-ice/PipelineC/vga-pll/ice_makefile_pipelinec $ cd ../../vga-pong/examples/pico-ice/ice_makefile_pipelinec/
devel@pi5-70:~/pico-ice/PipelineC/vga-pong/examples/pico-ice/ice_makefile_pipelinec $ make clean
rm -f lextab.py
rm -f yacctab.py
rm -f pll_clk_mhz.h
rm -f -r pipelinec_output
rm -f pipelinec.log
rm -f pll.v
rm -f *.json *.asc *.bin *.uf2
rm -f yosys_stderr.log
rm -f dfu_util.log
devel@pi5-70:~/pico-ice/PipelineC/vga-pong/examples/pico-ice/ice_makefile_pipelinec $ make pipelinec 
echo "#define PLL_CLK_MHZ 25.0\n" > pll_clk_mhz.h
/home/devel/PipelineC/src/pipelinec pong_top.c --top pipelinec_top --out_dir pipelinec_output --comb --no_synth > pipelinec.log
devel@pi5-70:~/pico-ice/PipelineC/vga-pong/examples/pico-ice/ice_makefile_pipelinec $ bin2uf2 -o gateware.uf2 gateware.bin 
gateware.bin: No such file or directory
devel@pi5-70:~/pico-ice/PipelineC/vga-pong/examples/pico-ice/ice_makefile_pipelinec $ make pipelinec 
echo "#define PLL_CLK_MHZ 25.0\n" > pll_clk_mhz.h
/home/devel/PipelineC/src/pipelinec pong_top.c --top pipelinec_top --out_dir pipelinec_output --comb --no_synth > pipelinec.log
devel@pi5-70:~/pico-ice/PipelineC/vga-pong/examples/pico-ice/ice_makefile_pipelinec $ make gateware.bin 
/home/devel/oss-cad-suite//bin/icepll -q -i 12 -o 25.0 -p -m -f pll.v
/home/devel/oss-cad-suite//bin/yosys -q -m ghdl -p "ghdl --std=08 -frelaxed `cat pipelinec_output/vhdl_files.txt` -e pipelinec_top; read_verilog -sv top.sv pll.v; synth_ice40 -top top -json gateware.json" 2> yosys_stderr.log
/home/devel/oss-cad-suite//bin/nextpnr-ice40 -q --randomize-seed --up5k --package sg48 --pcf ice40.pcf --json gateware.json --asc gateware.asc --freq 25.0
/home/devel/oss-cad-suite//bin/icepack gateware.asc gateware.bin
devel@pi5-70:~/pico-ice/PipelineC/vga-pong/examples/pico-ice/ice_makefile_pipelinec $ bin2uf2 -o gateware.uf2 gateware.bin 
devel@pi5-70:~/pico-ice/PipelineC/vga-pong/examples/pico-ice/ice_makefile_pipelinec $ scp gateware.uf2 pi5-80:/media/devel/pico-ice/
gateware.uf2                                  100%  204KB  10.5MB/s   00:00

devel@pi5-80:~/PipelineC/examples/pico-ice/ice_makefile_pipelinec $ git log

commit ff24c29192f5a479eed5e34c54ba3eabc5d1ec67 (HEAD -> test-dev, origin/test-dev)
Merge: cb8e24b 707142c
Author: develone <develone@sbcglobal.net>
Date:   Fri Feb 14 20:25:24 2025 -0700

    Merge branch 'JulianKemmerer:master' into test-dev
devel@pi5-80:~/PipelineC/examples/pico-ice/ice_makefile_pipelinec $ shasum *
ee68b7740f394ebe0a82ffb8e7664e71e8e9347f  eth_clocks.py
e1f8c6e487fad8a84e9076d6aa30679223d7dda8  ethernet_top.c
b9ad3899c37c95ed8e5d5feef2567141220bd4c2  ethernet_top.sv
8d5a6aef4154b1b3a02f2a538f0a363a94b75363  ice40.pcf
1a7a370020f54ad7334f51373928bfb2d0badbcb  Makefile
8df138288b44b857174fe0dc425c999d806d36a6  pong_top.c
03a2e9c6c0140282760ea7d7ad8444b1192f0191  README.md
6139f47363427f67ce139d4166459147f8b6910f  top.c
233085bd86ec52672963ace41411af019b5aee3a  top.h
50e93c2eb3bc0a882bb596597ab64be061cba5e7  top_pins.svh
ebf8bb80532f2bb104bde1702e923e261339a300  top.sv
devel@pi5-80:~/pico-ice/PipelineC/pmod-ethernet/ice_makefile_pipelinec $ shasum *
ee68b7740f394ebe0a82ffb8e7664e71e8e9347f  eth_clocks.py
e1f8c6e487fad8a84e9076d6aa30679223d7dda8  ethernet_top.c
b9ad3899c37c95ed8e5d5feef2567141220bd4c2  ethernet_top.sv
8d5a6aef4154b1b3a02f2a538f0a363a94b75363  ice40.pcf
1a7a370020f54ad7334f51373928bfb2d0badbcb  Makefile
2aaf39996b1284bdc5bab21a9ef9f2cb264764bf  pi5-90
3b8e46ade095f202ebe1ba7cfe71e2d0e0105a31  pmod-eth.txt
8df138288b44b857174fe0dc425c999d806d36a6  pong_top.c
03a2e9c6c0140282760ea7d7ad8444b1192f0191  README.md
6139f47363427f67ce139d4166459147f8b6910f  top.c
233085bd86ec52672963ace41411af019b5aee3a  top.h
50e93c2eb3bc0a882bb596597ab64be061cba5e7  top_pins.svh
ebf8bb80532f2bb104bde1702e923e261339a300  top.sv

The steps below should build the pmod-ethernet.
devel@pi5-80:~/pico-ice/PipelineC/pmod-ethernet/ice_makefile_pipelinec $ make clean

make pipelinec
make gateware.bin
bin2uf2 -o gateware.uf2 gateware.bin
The pico-ice on pi5-80 is currently display the vga colorbar.

cp gateware.uf2 /media/devel/pico-ice/

pi5-70 or pi5-80
devel@pi5-80:~/pico-ice/PipelineC/pmod-ethernet/ice_makefile_pipelinec $
devel@pi5-70:~/pico-ice/PipelineC/pmod-ethernet/ice_makefile_pipelinec $
make clean
make pipelinec TOP_NAME=ethernet_top
make gateware.bin TOP_NAME=ethernet_top
bin2uf2 -o gateware.uf2 gateware.bin
scp gateware.uf2 pi5-90:/media/devel/pico-ice/
devel@pi5-90:~/PipelineC/examples/arty/src/eth $ sudo ./loopback_test 
Test passed!

